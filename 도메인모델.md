# Review With Me 도메인 명세서

## 회원(Member)

_Entity_

### 속성

- `id`: `PK`
- `provider`: `Provider` 인증 제공 기관
- `providerId`: 인증 고유 아이디
- `username`: 사용자명
- `profileImageUrl`: 프로필 사진
- `status`: `MemberStatus` 회원 상태
- `role`: `MemberRole` 인가 권한

### 행위

- `static register()`: 회원 가입
- `ststic registerReviewer()`: 리뷰어 가입
- `activate()`: 회원 활성화
- `deactivate()`: 회원 비활성화

### 규칙

- 깃허브 인증이 완료되면 상태는 활성화 된다
- 회원 탈퇴를 하면 상태는 비활성화 된다

## 회원 상태(MemberStatus)

_Enum_

### 상수

- `ACTIVATED`: 가입
- `DEACTIVATED`: 탈퇴
- `ANONYMOUS`: 익명
- `BANNED`: 차단

## PR 게시글(PullRequestPost)

_Entity_

### 속성

- `id`: `PK`
- `memberId`: `FK` `Member` `N:1`
- `pullRequestUrl`: PR 링크
- `tag`: `MissionTag` 미션 태그
- `status`: `PostStatus` 게시글 상태
- `totalReviewCommentCount`: 리뷰 개수
- `totalReviewedMember`: 리뷰한 회원 수

### 행위

- `static register()`: 게시글 등록
- `delete()`: 게시글 삭제

### 규칙

- 하나의 회원은 동일한 미션의 PR 게시글을 등록할 수 없다
- 게시글을 등록하면 활성화 된다
- 게시글을 삭제하면 비활성화 된다

## 미션 태그(MissionTag)

_Enum_

### 상수

- `LOTTO`: 로또
- `CAR_RACING`: 자동차 경주
- `STRING_CARCULATOR`: 문자열 계산기

## 게시글 상태(PostStatus)

_Enum_

### 상수

- `ACTIVATED`: 활성화
- `DEACTIVATED`: 비활성화
- `BANNED`: 차단

## 코드 파일(CodeFile)

_Entity_

### 속성

- `id`: `PK`
- `pullRequestPostId`: `FK` `PullRequestPost` `N:1`
- `filename`: 파일명
- `reviewCommentCount`: 리뷰 코멘트 개수

### 행위

- `static create()`: 코드 파일 생성

### 규칙

## 리뷰 코멘트(ReviewComment)

_Entity_

### 속성

- `id`: `PK`
- `codeFileId`: `FK` `CodeFile` `N:1`
- `githubCommentId`: `Unique`
- `pullRequestPostId`: `FK` `PullRequestPost` `N:1`
- `memberId`: `FK` `Member` `1:1`
- `comment`: 리뷰 내용

### 행위

- `static create()`: 리뷰 생성
- `sync()`: Github 데이터와 리뷰 동기화
